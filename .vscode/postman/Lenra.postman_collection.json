{
    "_": {
        "postman_id": "e3e03f7f-aef1-4a1f-b6a9-9494ea420eda"
    },
    "item": [
        {
            "id": "86b615fd-f173-42d0-805b-849e9becd5d6",
            "name": "/auth",
            "item": [
                {
                    "id": "cf602b24-eec0-42d2-b5bb-f1bf8dec0af7",
                    "name": "/register",
                    "request": {
                        "url": {
                            "path": [
                                "auth",
                                "register"
                            ],
                            "host": [
                                "{{endpoint}}"
                            ],
                            "query": [],
                            "variable": []
                        },
                        "method": "POST",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"first_name\": \"Test\",\n  \"last_name\": \"Truc\",\n  \"email\": \"{{email}}\",\n  \"password\": \"{{password}}\",\n  \"password_confirmation\": \"{{password}}\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    },
                    "response": [],
                    "event": []
                },
                {
                    "id": "7169002d-db6a-41b9-b9bf-317b466499fe",
                    "name": "/login",
                    "request": {
                        "url": {
                            "path": [
                                "auth",
                                "login"
                            ],
                            "host": [
                                "{{endpoint}}"
                            ],
                            "query": [],
                            "variable": []
                        },
                        "method": "POST",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"password\": \"{{password}}\", \n    \"email\": \"{{email}}\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    },
                    "response": [],
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "id": "4f3730f2-91d8-458d-992d-f518f49c2912",
                                "type": "text/javascript",
                                "exec": [
                                    "const token = pm.response.to.have.header(\"Access_token\").value;",
                                    "pm.environment.set(\"access_token\", token);",
                                    ""
                                ]
                            }
                        }
                    ]
                },
                {
                    "id": "844829ac-3891-4c69-9f27-35e42e74e1c4",
                    "name": "/verify",
                    "request": {
                        "url": {
                            "path": [
                                "auth",
                                "verify"
                            ],
                            "host": [
                                "{{endpoint}}"
                            ],
                            "query": [],
                            "variable": []
                        },
                        "method": "POST",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"code\": \"{{verify_code}}\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    },
                    "response": [],
                    "event": []
                },
                {
                    "id": "b38ab3f9-0b61-43a9-b627-74cd0475cc98",
                    "name": "/password/lost",
                    "request": {
                        "url": {
                            "path": [
                                "auth",
                                "password",
                                "lost"
                            ],
                            "host": [
                                "{{endpoint}}"
                            ],
                            "query": [],
                            "variable": []
                        },
                        "method": "POST",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"{{email}}\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    },
                    "response": [],
                    "event": []
                },
                {
                    "id": "381e2e37-1677-457a-9537-7949948e8efe",
                    "name": "/password/lost",
                    "request": {
                        "url": {
                            "path": [
                                "auth",
                                "password",
                                "lost"
                            ],
                            "host": [
                                "{{endpoint}}"
                            ],
                            "query": [],
                            "variable": []
                        },
                        "method": "PUT",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"{{email}}\",\n    \"code\": \"{{password_lost_code}}\",\n    \"password\": \"{{new_password}}\",\n    \"password_confirmation\": \"{{new_password}}\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    },
                    "response": [],
                    "event": []
                }
            ],
            "event": []
        },
        {
            "id": "ceb7487d-92ba-40b9-b417-fae4bddd824e",
            "name": "/api",
            "item": [
                {
                    "id": "1c0ffc79-4979-4587-afc6-e5be45432496",
                    "name": "apps",
                    "item": [
                        {
                            "id": "8c77b333-66e4-4d9d-8e0d-6db2f748db48",
                            "name": "/apps",
                            "request": {
                                "url": {
                                    "path": [
                                        "api",
                                        "apps"
                                    ],
                                    "host": [
                                        "{{endpoint}}"
                                    ],
                                    "query": [],
                                    "variable": []
                                },
                                "method": "GET"
                            },
                            "response": [],
                            "event": []
                        },
                        {
                            "id": "f15d0da7-5d9a-43cd-bd40-458070d5efc0",
                            "name": "/apps",
                            "request": {
                                "url": {
                                    "path": [
                                        "api",
                                        "apps"
                                    ],
                                    "host": [
                                        "{{endpoint}}"
                                    ],
                                    "query": [],
                                    "variable": []
                                },
                                "method": "POST",
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n  \"name\": \"{{app_name}}\",\n  \"service_name\": \"lenra-test-3\",\n  \"color\": \"FF0000\",\n  \"icon\": 60169,\n  \"repository\": \"{{app_repo}}\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                }
                            },
                            "response": [],
                            "event": []
                        },
                        {
                            "id": "3faf0e5e-8c2d-4eab-9f0f-0b69c3b5ca18",
                            "name": "/apps",
                            "request": {
                                "url": {
                                    "path": [
                                        "api",
                                        "apps",
                                        "{{app_id}}"
                                    ],
                                    "host": [
                                        "{{endpoint}}"
                                    ],
                                    "query": [],
                                    "variable": []
                                },
                                "method": "DELETE"
                            },
                            "response": [],
                            "event": []
                        }
                    ],
                    "event": []
                },
                {
                    "id": "491e10e7-82da-4bf9-9eeb-384dff522a24",
                    "name": "environments",
                    "item": [
                        {
                            "id": "657ad9f0-b223-455e-9724-d534e2316b8d",
                            "name": "/app/:app_id/environments",
                            "request": {
                                "url": {
                                    "path": [
                                        "api",
                                        "apps",
                                        "{{app_id}}",
                                        "environments"
                                    ],
                                    "host": [
                                        "{{endpoint}}"
                                    ],
                                    "query": [],
                                    "variable": []
                                },
                                "method": "GET"
                            },
                            "response": [],
                            "event": []
                        },
                        {
                            "id": "210c8a9c-d4d7-427b-be0a-4ca5a12bce15",
                            "name": "/apps/:app_id/environments",
                            "request": {
                                "url": {
                                    "path": [
                                        "api",
                                        "apps",
                                        "{{app_id}}",
                                        "environments"
                                    ],
                                    "host": [
                                        "{{endpoint}}"
                                    ],
                                    "query": [],
                                    "variable": []
                                },
                                "method": "POST",
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"name\": \"test\", \n    \"is_ephemeral\": false\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                }
                            },
                            "response": [],
                            "event": []
                        },
                        {
                            "id": "98edf4a9-e6e6-49df-94ff-84aff4c1d986",
                            "name": "/apps/:app_id/environments/:env_id",
                            "request": {
                                "url": {
                                    "path": [
                                        "api",
                                        "apps",
                                        "{{app_id}}",
                                        "environments",
                                        "1"
                                    ],
                                    "host": [
                                        "{{endpoint}}"
                                    ],
                                    "query": [],
                                    "variable": []
                                },
                                "method": "PATCH",
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"is_public\": true\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                }
                            },
                            "response": [],
                            "event": []
                        },
                        {
                            "id": "754f1d11-8e1d-40a9-b229-ea99f4d24386",
                            "name": "/apps/:app_id/environments/:env_id/invitations",
                            "request": {
                                "url": {
                                    "path": [
                                        "api",
                                        "apps",
                                        "{{app_id}}",
                                        "environments",
                                        "1",
                                        "invitations"
                                    ],
                                    "host": [
                                        "{{endpoint}}"
                                    ],
                                    "query": [],
                                    "variable": []
                                },
                                "method": "GET"
                            },
                            "response": [],
                            "event": []
                        },
                        {
                            "id": "0754806e-91d2-4e0d-b04a-38854431f9f5",
                            "name": "/apps/:app_id/environments/:env_id/invitations",
                            "request": {
                                "url": {
                                    "path": [
                                        "api",
                                        "apps",
                                        "{{app_id}}",
                                        "environments",
                                        "1",
                                        "invitations"
                                    ],
                                    "host": [
                                        "{{endpoint}}"
                                    ],
                                    "query": [],
                                    "variable": []
                                },
                                "method": "POST",
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"user_id\": 1\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                }
                            },
                            "response": [],
                            "event": []
                        }
                    ],
                    "event": []
                },
                {
                    "id": "de03d47a-53a9-4d99-9f77-6a181f82b4da",
                    "name": "builds",
                    "item": [
                        {
                            "id": "a1ed39e4-b131-4047-b81a-76db7dd6684a",
                            "name": "/apps/:app_id/builds",
                            "request": {
                                "url": {
                                    "path": [
                                        "api",
                                        "apps",
                                        "{{app_id}}",
                                        "builds"
                                    ],
                                    "host": [
                                        "{{endpoint}}"
                                    ],
                                    "query": [],
                                    "variable": []
                                },
                                "method": "GET"
                            },
                            "response": [],
                            "event": []
                        },
                        {
                            "id": "b011ace6-2754-4725-ab54-13fbe44ec28e",
                            "name": "/apps/:app_id/builds",
                            "request": {
                                "url": {
                                    "path": [
                                        "api",
                                        "apps",
                                        "{{app_id}}",
                                        "builds"
                                    ],
                                    "host": [
                                        "{{endpoint}}"
                                    ],
                                    "query": [],
                                    "variable": []
                                },
                                "method": "POST",
                                "body": {
                                    "mode": "raw",
                                    "raw": "{}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                }
                            },
                            "response": [],
                            "event": []
                        }
                    ],
                    "event": []
                },
                {
                    "id": "9e7cd518-29e9-4f69-804b-e05840196ce9",
                    "name": "deployments",
                    "item": [
                        {
                            "id": "858ab4e6-bf0f-490a-9417-604d05e0b91a",
                            "name": "/apps/deployments",
                            "request": {
                                "url": {
                                    "path": [
                                        "api",
                                        "apps",
                                        "deployments"
                                    ],
                                    "host": [
                                        "{{endpoint}}"
                                    ],
                                    "query": [],
                                    "variable": []
                                },
                                "method": "POST",
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"environment_id\": 1, \n    \"build_id\": 1\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                }
                            },
                            "response": [],
                            "event": []
                        }
                    ],
                    "event": []
                },
                {
                    "id": "792af64f-e99c-458e-b5bd-365c8c9219d0",
                    "name": "me",
                    "item": [
                        {
                            "id": "d77eb5ac-308e-4dc0-8d93-40c0c4efd2cc",
                            "name": "/me/apps",
                            "request": {
                                "url": {
                                    "path": [
                                        "api",
                                        "me",
                                        "apps"
                                    ],
                                    "host": [
                                        "{{endpoint}}"
                                    ],
                                    "query": [],
                                    "variable": []
                                },
                                "method": "GET"
                            },
                            "response": [],
                            "event": []
                        }
                    ],
                    "event": []
                },
                {
                    "id": "c55e0a12-9841-4577-832f-d5377272ea5b",
                    "name": "runner",
                    "item": [
                        {
                            "id": "41c9fd51-a4b9-426a-9e63-119c75592dc1",
                            "name": "/runner/builds/:build_id",
                            "request": {
                                "url": {
                                    "path": [
                                        "runner",
                                        "builds",
                                        "{{build_id}}"
                                    ],
                                    "host": [
                                        "{{endpoint}}"
                                    ],
                                    "query": [
                                        {
                                            "key": "secret",
                                            "value": "{{runner_secret}}"
                                        }
                                    ],
                                    "variable": []
                                },
                                "method": "PUT",
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"status\": \"success\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                }
                            },
                            "response": [],
                            "event": []
                        }
                    ],
                    "event": []
                },
                {
                    "id": "1b9ce5ba-c712-4b67-9b3f-e636d811202f",
                    "name": "crons",
                    "item": [
                        {
                            "id": "d51ed917-0331-4164-ba0c-5ab3c110380c",
                            "name": "/crons",
                            "request": {
                                "url": {
                                    "path": [
                                        "api",
                                        "apps",
                                        "{{app_id}}",
                                        "environments",
                                        "1",
                                        "crons"
                                    ],
                                    "host": [
                                        "{{endpoint}}"
                                    ],
                                    "query": [],
                                    "variable": []
                                },
                                "method": "POST",
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n  \"listener_name\": \"increment\",\n  \"schedule\": \"* * * * *\",\n  \"props\": {\n    \"id\": \"6357fa689c5ddd4782166117\"\n  }\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                }
                            },
                            "response": [],
                            "event": []
                        }
                    ],
                    "event": []
                },
                {
                    "id": "61e80233-ca91-4e19-9df6-d1146902ed77",
                    "name": "/verify/dev",
                    "request": {
                        "url": {
                            "path": [
                                "api",
                                "verify",
                                "dev"
                            ],
                            "host": [
                                "{{endpoint}}"
                            ],
                            "query": [],
                            "variable": []
                        },
                        "method": "PUT",
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"code\": \"caeee9e4-2bc7-4c4f-b3fa-a64a2a53d97d\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    },
                    "response": [],
                    "event": []
                }
            ],
            "event": []
        },
        {
            "id": "d1fb32ee-9e93-4f98-95ff-aaebdd3d54d4",
            "name": "/cgu",
            "item": [
                {
                    "id": "ee7ae27e-e3ff-45dc-a410-1a2aba7505b9",
                    "name": "/me/accepted_latest",
                    "request": {
                        "url": {
                            "path": [
                                "cgu",
                                "me",
                                "accepted_latest"
                            ],
                            "host": [
                                "{{endpoint}}"
                            ],
                            "query": [],
                            "variable": []
                        },
                        "method": "GET"
                    },
                    "response": [],
                    "event": []
                },
                {
                    "id": "4485dd39-3714-4e03-9251-ec0d6df3137c",
                    "name": "/cgu_id/accept",
                    "request": {
                        "url": {
                            "path": [
                                "api",
                                "cgu",
                                "1",
                                "accept"
                            ],
                            "host": [
                                "{{endpoint}}"
                            ],
                            "query": [],
                            "variable": []
                        },
                        "method": "POST"
                    },
                    "response": [],
                    "event": []
                },
                {
                    "id": "bcaf3088-5761-4b17-b75c-fbcd26373a45",
                    "name": "/latest",
                    "request": {
                        "url": {
                            "path": [
                                "cgu",
                                "latest"
                            ],
                            "host": [
                                "{{endpoint}}"
                            ],
                            "query": [],
                            "variable": []
                        },
                        "method": "GET"
                    },
                    "response": [],
                    "event": []
                }
            ],
            "event": []
        },
        {
            "id": "8da5a311-d146-4df7-b56e-9aacc1384a0c",
            "name": "/health",
            "request": {
                "url": {
                    "path": [
                        "health"
                    ],
                    "host": [
                        "{{endpoint}}"
                    ],
                    "query": [],
                    "variable": []
                },
                "method": "GET"
            },
            "response": [],
            "event": []
        }
    ],
    "auth": {
        "type": "bearer",
        "bearer": [
            {
                "type": "string",
                "value": "{{access_token}}",
                "key": "token"
            }
        ]
    },
    "event": [],
    "variable": [
        {
            "description": {
                "content": "Lenra server API URL",
                "type": "text/plain"
            },
            "type": "string",
            "value": "http://localhost:4000",
            "key": "endpoint"
        },
        {
            "description": {
                "content": "Lenra API secret to get access to `/runner/build` route",
                "type": "text/plain"
            },
            "type": "string",
            "value": "sZWshq6h0RNO9T1GgUnzLmPpDkSkDAoukmd30mTuwQAGIHYIIVdl7VD2h305",
            "key": "runner_secret"
        },
        {
            "description": {
                "content": "Lenra user's email account link used to create and login to Lenra user",
                "type": "text/plain"
            },
            "type": "string",
            "value": "test@lenra.io",
            "key": "email"
        },
        {
            "description": {
                "content": "Lenra user's password to login to Lenra user",
                "type": "text/plain"
            },
            "type": "string",
            "value": "Testtest42!",
            "key": "password"
        },
        {
            "description": {
                "content": "Lenra's verify code received by email to verify the user email",
                "type": "text/plain"
            },
            "type": "string",
            "value": "undefined",
            "key": "verify_code"
        },
        {
            "description": {
                "content": "App's repository URL to clone and deploy apps",
                "type": "text/plain"
            },
            "type": "string",
            "value": "https://github.com/lenra-io/template-javascript.git",
            "key": "app_repo"
        },
        {
            "description": {
                "content": "Current Lenra app's internal id",
                "type": "text/plain"
            },
            "type": "string",
            "value": "1",
            "key": "app_id"
        },
        {
            "description": {
                "content": "Current Lenra app's service id",
                "type": "text/plain"
            },
            "type": "string",
            "value": "e11dd798-86d4-4fb1-9f17-f880e83dea5a",
            "key": "service_name"
        },
        {
            "description": {
                "content": "Current Lenra app's build id",
                "type": "text/plain"
            },
            "type": "string",
            "value": "1",
            "key": "build_id"
        },
        {
            "description": {
                "content": "Lenra's developper code to transform user to developper account",
                "type": "text/plain"
            },
            "type": "string",
            "value": "caeee9e4-2bc7-4c4f-b3fa-a64a2a53d97d",
            "key": "dev_code"
        },
        {
            "description": {
                "content": "Current lenra user's token to connect to API",
                "type": "text/plain"
            },
            "type": "string",
            "value": "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJsZW5yYSIsImV4cCI6MTY3MTQ0NDcwOCwiaWF0IjoxNjY5MDI1NTA4LCJpc3MiOiJsZW5yYSIsImp0aSI6ImJjMWVmYjEyLWU3N2MtNDE2Yi1hN2RlLWI2M2Q5NDBmMTJiNSIsIm5iZiI6MTY2OTAyNTUwNywic3ViIjoiMSIsInR5cCI6ImFjY2VzcyJ9._BNwYX42V9SyEkOpObcpCBPq_RlRMZGkwUSLcp_h8tbaoAcsnt9WNTTBWnhmDxnKE9pVzpD9INTvqYDVBiOFog",
            "key": "access_token"
        },
        {
            "description": {
                "content": "Lenra app's name to create",
                "type": "text/plain"
            },
            "type": "string",
            "value": "Lenra Test",
            "key": "app_name"
        }
    ],
    "info": {
        "_postman_id": "e3e03f7f-aef1-4a1f-b6a9-9494ea420eda",
        "name": "Lenra",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
        "description": {
            "content": "",
            "type": "text/plain"
        }
    }
}
